import express from 'express';
import { register, login, logout, isAuthenticated } from '../controllers/authController';
import { addUser, adminUsers, createUser, deleteUser, updateMenu, updateUser } from '../controllers/userController';
export const router = express.Router();
router.get('/', (_, res) => res.render('index'));
router.get('/login', (_, res) => res.render('login', {msg: ''}));
router.post('/login', login);
router.get('/register', (_, res) => res.render('register'));
router.post('/register', register);
router.get('/logout', logout);
router.get('/admin/users', isAuthenticated, adminUsers);
router.get('/admin/create-user', addUser);
router.post('/admin/create-user', createUser);
router.get('/admin/delete-user/:rut', deleteUser);
router.get('/admin/edit-user/:rut', updateMenu);
router.post('/update-user/:rut', updateUser);
router.get('/admin/payment/1', (_, res) => res.render('payment'));
router.get('/admin/payment/2', (_, res) => res.render('payment-2'));
router.get('/admin/payment/3', (_, res) => res.render('payment-3'));
// 
router.get('/admin/bills', (_, res) => res.render('bills'));
router.get('/admin/doc-profile', (_, res) => res.render('doc-profile'));
router.get('/admin/docs', (_, res) => res.render('docs'));
router.get('/profile', (_, res) => res.render('profile'));
router.get('/admin/schedule', (_, res) => res.render('schedule'));